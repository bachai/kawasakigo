<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Japanese Vocabulary Learner</title>
<script>
document.addEventListener("DOMContentLoaded", function() {
  let vocabularies = [
  { word: "起きます（おきます）", pronunciation: "起きて（おきて）" }, 
  { word: "終わります（おわります）", pronunciation: "終わって（おわって）" },
 { word: "寝ます（ねます）", pronunciation: "寝て（ねて）" },
      { word: "働きます（はたらきます）", pronunciation: "働きます（はたらいて）" },
      { word: "勉強します（べんきょうします）", pronunciation: "勉強して（べんきょうして）" },
      { word: "休みます（やすみます）", pronunciation: "休んで（やすんで）" },
      { word: "行きます（いきます）", pronunciation: "行って（いって）" },
      { word: "帰ります（かえります）", pronunciation: "帰って（かえって）" },
      { word: "来ます（きます）", pronunciation: "来て（きて）" },
      { word: "食べます（たべます）", pronunciation: "食べて（たべて）" },
      { word: "飲みます（のみます）", pronunciation: "飲んで（のんで）" },
          { word: "吸います（すいます）", pronunciation: "吸って（すって）" },
          { word: "見ます（みます）", pronunciation: "見て（みて）" },
          { word: "聞きます（ききます）", pronunciation: "聞いて（きいて）" },
          { word: "読みます（よみます）", pronunciation: "読んで（よんで）" },
          { word: "書きます（かきます）", pronunciation: "書いて（かいて）" },
          { word: "買います（かいます）", pronunciation: "買って（かって）" },
          { word: "撮ります（とります）", pronunciation: "撮って（とって）" },
          { word: "します", pronunciation: "して" },
          { word: "会います（あいます）", pronunciation: "会って（あって）" },
          { word: "切ります（きります）", pronunciation: "切って（きって）" },
          { word: "送ります（おくります）", pronunciation: "送って（おくって）" },
          { word: "あげます", pronunciation: "あげて" },
          { word: "もらいます", pronunciation: "もらって" },
              { word: "貸します（かします）", pronunciation: "貸して（かして）" },
              { word: "借ります（かります）", pronunciation: "借りて（かりて）" },
              { word: "教えます（おしえます）", pronunciation: "教えて（おしえて）" },
              { word: "習います（ならいます）", pronunciation: "習って（ならって）" },
              { word: "分かります（わかります）", pronunciation: "分かって（わかって）" },
              { word: "あります", pronunciation: "あって" },
              { word: "います", pronunciation: "いて" },
              { word: "かかります", pronunciation: "かかって" },
                  { word: "遊びます（あそびます）", pronunciation: "遊んで（あそんで）" },
                  { word: "泳ぎます（およぎます）", pronunciation: "泳いで（およいで）" },
                  { word: "迎えます（むかえます）", pronunciation: "迎えて（むかえて）" },
                  { word: "疲れます（つかれます）", pronunciation: "疲れて（つかれて）" },
                  { word: "結婚します（けっこんします）", pronunciation: "結婚して（けっこんして）" },
                  { word: "買い物します（かいものします）", pronunciation: "買い物して（かいものして）" },
                  { word: "食事します（しょくじします）", pronunciation: "食事して（しょくじして）" },
                  { word: "散歩します（さんぽします）", pronunciation: "散歩して（さんぽして）" },
         { word: "座ります（すわります）", pronunciation: "座って（すわって）" },
         { word: "立ちます（たちます）", pronunciation: "立って（たって）" },
         { word: "出ます（でます）", pronunciation: "出て（でて）" },
         { word: "入ります（はいります）", pronunciation: "入って（はいって）" },
         { word: "使います（つかいます）", pronunciation: "使って（つかって）" },
         { word: "つけます", pronunciation: "つけて" },
         { word: "消します（けします）", pronunciation: "消して（けして）" },
         { word: "開けます（あけます）", pronunciation: "開けて（あけて）" },
         { word: "閉めます（しめます）", pronunciation: "閉めて（しめて）" },
         { word: "急ぎます（いそぎます）", pronunciation: "急いで（いそいで）" },
         { word: "待ちます（まちます）", pronunciation: "待って（まって）" },
         { word: "止めます（とめます）", pronunciation: "止めて（とめて）" },
         { word: "持ちます（もちます）", pronunciation: "持って（もって）" },
         { word: "取ります（とります）", pronunciation: "取って（とって）" },
         { word: "手伝います（てつだいます）", pronunciation: "手伝って（てつだって）" },
         { word: "呼びます（よびます）", pronunciation: "呼んで（よんで）" },
         { word: "話します（はなします）", pronunciation: "話して（はなして）" },
         { word: "見せます（みせます）", pronunciation: "見せて（みせて）" },
         { word: "降ります（ふります）", pronunciation: "降って（ふって）" },
         { word: "降ります（おります）", pronunciation: "降りて（おりて）" },
         { word: "置きます（おきます）", pronunciation: "置いて（おいて）" },
             { word: "着ます（きます）", pronunciation: "着て（きて）" },
  { word: "行きます（いきます）", pronunciation: "行って（いって）" },
      { word: "持って行きます（もっていきます）", pronunciation: "持って行って（もっていって）" },
      { word: "持って来ます（もってきます）", pronunciation: "持って来て（もってきて）" },
];
  let currentIndex = -1;
  let showPronunciation = false;
  
  // Function to populate the textarea with the initial vocabularies
  function populateTextarea() {
    const textarea = document.getElementById("inputText");
    const vocabText = vocabularies.map(vocab => `${vocab.word} ${vocab.pronunciation}`).join('\n');
    textarea.value = vocabText;
  }

  // Function to parse and update vocabularies
  function parseAndUpdateVocabularies() {
    const inputContent = document.getElementById("inputText").value.trim();
    const lines = inputContent.split('\n');
    vocabularies = lines.map(line => {
      const [word, pronunciation] = line.split(/[\s,;　]+/); // Adjust based on your delimiter
      return { word, pronunciation };
    });
  }

  // Function to draw a card
  function drawCard() {
    if (currentIndex === -1 || !showPronunciation) {
      parseAndUpdateVocabularies(); // Update vocabularies each time before drawing a new word
      if (vocabularies.length === 0) {
        document.getElementById("displayArea").textContent = "Please add vocabularies to start.";
        return;
      }

      currentIndex = Math.floor(Math.random() * vocabularies.length);
      document.getElementById("displayArea").textContent = vocabularies[currentIndex].word;
      showPronunciation = true;
    } else if (showPronunciation) {
      document.getElementById("displayArea").textContent = vocabularies[currentIndex].pronunciation;
      showPronunciation = false;
      currentIndex = -1; // Reset to allow a new word to be selected next time
    }
  }

  // Toggle input visibility
  function toggleInputVisibility() {
    const inputSection = document.getElementById("inputSection");
    if (inputSection.style.display === "none") {
      inputSection.style.display = "block";
    } else {
      inputSection.style.display = "none";
    }
  }

  // Event listeners
  document.getElementById("displayArea").addEventListener("click", drawCard);
  document.getElementById("toggleInputBtn").addEventListener("click", toggleInputVisibility);
  populateTextarea();
  
  
});
</script>
<style>
  #inputSection {
    margin-bottom: 20px;
  }
  #displayArea {
    width: 100%;
    height: 90vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2em;
    cursor: pointer;
    border: 2px dashed #ccc;
    margin-top: 20px;
    background-color: #f0f0f0;
  }
  #inputText {
    width: 100%;
    height: 100px;
  }
</style>
</head>
<body>
<button id="toggleInputBtn">Toggle</button>
<div id="inputSection" style="display:none">
  <textarea id="inputText" placeholder="Enter vocabularies here, one per line, formatted as 'word pronunciation' (e.g., こうえん 公園)"></textarea>
</div>
<div id="displayArea">Click here to start</div>
</body>
</html>
